<script>
  window.CATEGORIES = [
    {id: 'home', path: '', name: 'Home'},
    {id: 'blog', path: 'blog', name: 'Blog'},
    {id: 'development', path: 'development', name: 'Development'},
    {id: 'experiments', path: 'experiments', name: 'Experiments'},
    {id: 'learning', path: 'learning', name: 'Learning'},
    {id: 'about', path: 'about', name: 'About'},
    {id: 'search', path: 'search', name: 'Search'},
  ];

  window.POSTS = [];
  {% for post in site.posts %}
    window.POSTS.push({
      id: '{{ post.slug | replace: "'", "\\'" }}',
      title: '{{ post.title | replace: "'", "\\'" }}',
      categories: {{ post.categories | jsonify }},
      url: '{{ post.url | replace: "'", "\\'" }}',
    });
  {% endfor %}

  {% if page.category %}
    window.ACTIVE_CATEGORY = '{{page.category}}'
  {% elsif page.categories %}
    window.ACTIVE_CATEGORY = '{{page.categories | first}}'
  {% else %}
    window.ACTIVE_CATEGORY = 'home'
  {% endif %}

  window.ACTIVE_POST = '{{ page.slug | replace: "'", "\\'" }}'
</script>
<script src='{{ "/assets/js/main.js" | relative_url }}' async></script>
<script src='{{ "/assets/js/highlighter.js" | relative_url }}'></script>
{% if jekyll.environment == 'production' and site.google_analytics %}
  {% include google-analytics.html %}
{% endif %}
